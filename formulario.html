<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Registrar Actividad</title>
    <link rel="stylesheet" href="CSS/style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script>
      // Muestra/oculta campos según indicadores seleccionados
      function toggleCamposIndicador() {
        const indicadores = document.querySelectorAll(
          'input[name="indicadores[]"]:checked'
        );

        // Ocultar todos los campos específicos primero
        document.querySelectorAll("[data-indicador]").forEach((el) => {
          el.style.display = "none";
        });

        // Mostrar campos para los indicadores seleccionados
        indicadores.forEach((indicador) => {
          const campos = document.querySelectorAll(
            `[data-indicador="${indicador.value}"]`
          );
          campos.forEach((campo) => {
            campo.style.display = "block";
          });
        });
      }

      // Inicializa la visibilidad de campos al cargar
      document.addEventListener("DOMContentLoaded", function () {
        toggleCamposIndicador();
      });
    </script>
    <style>
      .campos-indicador {
        display: none;
        background-color: #f8f9fa;
        padding: 15px;
        border-radius: 5px;
        margin-bottom: 15px;
        border-left: 4px solid #0d6efd;
      }

      .checkbox-indicador {
        cursor: pointer;
        padding: 10px;
        border: 1px solid #dee2e6;
        border-radius: 5px;
        margin-bottom: 5px;
        transition: all 0.3s;
      }

      .checkbox-indicador:hover {
        background-color: #e9ecef;
      }
    </style>
  </head>
  <body>
    <div class="container my-5">
      <h2 class="mb-4">Registrar Nueva Actividad</h2>
      <form id="form-actividad">
        <!-- Sección 1: Datos generales de la actividad -->
        <div class="card mb-4">
          <div class="card-header bg-primary text-white">
            <h5>Datos Generales de la Actividad</h5>
          </div>
          <div class="card-body">
            <div class="mb-3">
              <label for="nombre_actividad" class="form-label"
                >Nombre de la actividad *</label
              >
              <input
                type="text"
                class="form-control"
                id="nombre_actividad"
                name="nombre_actividad"
                required
              />
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="fecha_inicio" class="form-label"
                  >Fecha inicio *</label
                >
                <input
                  type="date"
                  class="form-control"
                  id="fecha_inicio"
                  name="fecha_inicio"
                  required
                />
              </div>
              <div class="col-md-6 mb-3">
                <label for="fecha_fin" class="form-label">Fecha fin *</label>
                <input
                  type="date"
                  class="form-control"
                  id="fecha_fin"
                  name="fecha_fin"
                  required
                />
              </div>
            </div>

            <div class="mb-3">
              <label for="region" class="form-label">Región *</label>
              <input
                type="text"
                class="form-control"
                id="region"
                name="region"
                required
              />
            </div>
          </div>
        </div>

        <!-- Sección 2: Selección de indicadores -->
        <div class="card mb-4">
          <div class="card-header bg-primary text-white">
            <h5>Indicadores Asociados</h5>
          </div>
          <div class="card-body">
            <p>Seleccione uno o más indicadores asociados a esta actividad:</p>

            <div class="mb-3">
              <div class="checkbox-indicador">
                <input
                  type="checkbox"
                  id="indicador-i1"
                  name="indicadores[]"
                  value="i1"
                  onchange="toggleCamposIndicador()"
                />
                <label for="indicador-i1" class="form-label"
                  >I1 - Medidas AFP</label
                >
              </div>

              <div class="checkbox-indicador">
                <input
                  type="checkbox"
                  id="indicador-i2"
                  name="indicadores[]"
                  value="i2"
                  onchange="toggleCamposIndicador()"
                />
                <label for="indicador-i2" class="form-label"
                  >I2 - Organizaciones Sociedad Civil</label
                >
              </div>

              <div class="checkbox-indicador">
                <input
                  type="checkbox"
                  id="indicador-i3"
                  name="indicadores[]"
                  value="i3"
                  onchange="toggleCamposIndicador()"
                />
                <label for="indicador-i3" class="form-label"
                  >I3 - Actividades PAN</label
                >
              </div>

              <div class="checkbox-indicador">
                <input
                  type="checkbox"
                  id="indicador-i3_1"
                  name="indicadores[]"
                  value="i3_1"
                  onchange="toggleCamposIndicador()"
                />
                <label for="indicador-i3_1" class="form-label"
                  >I3.1 - Iniciativas</label
                >
              </div>

              <div class="checkbox-indicador">
                <input
                  type="checkbox"
                  id="indicador-i3_2"
                  name="indicadores[]"
                  value="i3_2"
                  onchange="toggleCamposIndicador()"
                />
                <label for="indicador-i3_2" class="form-label"
                  >I3.2 - Mecanismos</label
                >
              </div>

              <div class="checkbox-indicador">
                <input
                  type="checkbox"
                  id="indicador-i4"
                  name="indicadores[]"
                  value="i4"
                  onchange="toggleCamposIndicador()"
                />
                <label for="indicador-i4" class="form-label"
                  >I4 - Buenas Prácticas</label
                >
              </div>
            </div>
          </div>
        </div>

        <!-- Sección 3: Campos específicos para cada indicador -->
        <div class="campos-indicador" data-indicador="i1">
          <h5 class="mb-3">Detalles para I1 - Medidas AFP</h5>
          <div class="mb-3">
            <label for="medida_genero_afp" class="form-label"
              >Medida de género AFP *</label
            >
            <input
              type="text"
              class="form-control"
              id="medida_genero_afp"
              name="i1_medida_genero_afp"
            />
          </div>
          <div class="mb-3">
            <label for="avances_implementacion_afp" class="form-label"
              >Avances implementación AFP</label
            >
            <textarea
              class="form-control"
              id="avances_implementacion_afp"
              name="i1_avances_implementacion_afp"
              rows="2"
            ></textarea>
          </div>
          <!-- Más campos para I1... -->
        </div>

        <div class="campos-indicador" data-indicador="i2">
          <h5 class="mb-3">Detalles para I2 - Organizaciones Sociedad Civil</h5>
          <div class="mb-3">
            <label for="organizacion_nombre" class="form-label"
              >Nombre organización *</label
            >
            <input
              type="text"
              class="form-control"
              id="organizacion_nombre"
              name="i2_organizacion_nombre"
            />
          </div>
          <div class="mb-3">
            <label for="medidas_afp_seguimiento" class="form-label"
              >Medidas AFP en seguimiento</label
            >
            <textarea
              class="form-control"
              id="medidas_afp_seguimiento"
              name="i2_medidas_afp_seguimiento"
              rows="2"
            ></textarea>
          </div>
          <!-- Más campos para I2... -->
        </div>

        <!-- Campos para otros indicadores (i3, i3_1, i3_2, i4) se agregarían aquí -->

        <!-- Sección 4: Información común para todos los indicadores -->
        <div class="card mb-4">
          <div class="card-header bg-secondary text-white">
            <h5>Información Común</h5>
          </div>
          <div class="card-body">
            <div class="mb-3">
              <label for="entidades_involucradas" class="form-label"
                >Entidades involucradas</label
              >
              <textarea
                class="form-control"
                id="entidades_involucradas"
                name="entidades_involucradas"
                rows="2"
              ></textarea>
            </div>

            <div class="row">
              <div class="col mb-3">
                <label for="participantes_hombres" class="form-label"
                  >Participantes hombres</label
                >
                <input
                  type="number"
                  class="form-control"
                  id="participantes_hombres"
                  name="participantes_hombres"
                  min="0"
                />
              </div>
              <div class="col mb-3">
                <label for="participantes_mujeres" class="form-label"
                  >Participantes mujeres</label
                >
                <input
                  type="number"
                  class="form-control"
                  id="participantes_mujeres"
                  name="participantes_mujeres"
                  min="0"
                />
              </div>
              <div class="col mb-3">
                <label for="participantes_osigd" class="form-label"
                  >Participantes OSIGD</label
                >
                <input
                  type="number"
                  class="form-control"
                  id="participantes_osigd"
                  name="participantes_osigd"
                  min="0"
                />
              </div>
            </div>

            <div class="mb-3">
              <label for="resultados_concretos" class="form-label"
                >Resultados concretos</label
              >
              <textarea
                class="form-control"
                id="resultados_concretos"
                name="resultados_concretos"
                rows="2"
              ></textarea>
            </div>

            <div class="mb-3">
              <label for="estado_proceso" class="form-label"
                >Estado del proceso *</label
              >
              <select
                class="form-select"
                id="estado_proceso"
                name="estado_proceso"
                required
              >
                <option>Iniciada</option>
                <option>En proceso</option>
                <option>Finalizada</option>
              </select>
            </div>

            <div class="mb-3">
              <label for="nombre_diligencia" class="form-label"
                >Nombre quien diligencia *</label
              >
              <input
                type="text"
                class="form-control"
                id="nombre_diligencia"
                name="nombre_diligencia"
                required
              />
            </div>

            <div class="mb-3">
              <label for="fecha_diligenciamiento" class="form-label"
                >Fecha de diligenciamiento *</label
              >
              <input
                type="date"
                class="form-control"
                id="fecha_diligenciamiento"
                name="fecha_diligenciamiento"
                required
              />
            </div>
          </div>
        </div>

        <button type="submit" class="btn btn-primary">Guardar Actividad</button>
      </form>
    </div>
    <script src="JS/script.js"></script>
  </body>
</html>
